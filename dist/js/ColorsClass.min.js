import e from"https://cdn.jsdelivr.net/npm/tinycolor2@1.6.0/+esm";export class Colors{static mapNumberToColor(t){const l=[{value:120,color:"#00852B"},{value:60,color:"#1E5AA8"},{value:30,color:"#B40000"},{value:0,color:"#FF0000"}];if(l[0].value<t)return l[0].color;if(t<=l[l.length-1].value)return l[l.length-1].color;let r=null;for(let e=0;e<l.length-1;e++)if(l[e].value>=t&&t>l[e+1].value){r=e;break}if(null===r)return"#000000";const o=(t-l[r].value)/(l[r+1].value-l[r].value);return e.mix(l[r].color,l[r+1].color,100*o).toHexString()}constructor(){let e=["#F4F4F4","#FAC80A","#B40000","#00852B","#1E5AA8","#8A928D","#ABD9FF","#91501C","#545955"],t=Math.floor(Math.random()*e.length);this.colorTrue=e[t],this.colorFalse="transparent",e.splice(t,1),this.colors=[...e,...e],this.shuffleColors(4)}#e=4;#t=0;nextColor(){const e=this.colors[this.#t++];return this.#t%=this.colors.length,e}shuffleColors(e=this.#e){return this.colors=function(e,t){e.length;let l=[...e],r=new Map,o=[];for(let e=0;e<l.length;e++)r.has(l[e])?r.set(l[e],r.get(l[e])+1):r.set(l[e],1);if(t||(t=0),t<0||r.size<t)throw new Error("Invalid parameters: lengthOfNonConsecutiveColors should be a number greater or equal than zero and less than the length of possible colors array");let n=[];for(;;){let e=[];if(r.forEach(((t,l)=>{t>0&&!o.includes(l)&&e.push({value:l,remain:t})})),0===e.length)break;let l=Math.floor(Math.random()*e.length),a=e[l];n.push(a.value),o.push(a.value),o.length>t&&o.shift(),r.set(a.value,a.remain-1);let s=!0;if(r.forEach((e=>{e>0&&(s=!1)})),s)break}return n}(this.colors,e),this.colors}bg2color(t){return e(t).darken(3).toString("hex6")}}export class BlurOverlay{static overlaySingleton=null;static getOrCreateOverlaySingleton(){return null==BlurOverlay.overlaySingleton&&(BlurOverlay.overlaySingleton=document.createElement("div"),BlurOverlay.overlaySingleton.classList.add("overlay"),BlurOverlay.overlaySingleton.style.display="none",document.body.appendChild(BlurOverlay.overlaySingleton),window.addEventListener("resize",(()=>{(new BlurOverlay).updateOverlayPosition()}))),BlurOverlay.overlaySingleton}#l;#r;constructor(e){this.#r=e,this.#l=BlurOverlay.getOrCreateOverlaySingleton()}show(){this.#l.style.display="block"}move(e){this.elementCoveredByOverlay=e,this.updateOverlayPosition()}hide(){this.#l.style.display="none"}clear(){this.#l.style.display="none",this.elementCoveredByOverlay=null}updateOverlayPosition(){if(null==this.elementCoveredByOverlay)return;const e=this.elementCoveredByOverlay.querySelectorAll(this.#r);if(0===e.length)return;let t=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;e.forEach((e=>{const n=e.getBoundingClientRect();t=Math.min(t,n.top),l=Math.min(l,n.left),r=Math.max(r,n.bottom),o=Math.max(o,n.right)}));const n=this.#l.parentElement.getBoundingClientRect(),a=(this.elementCoveredByOverlay.getBoundingClientRect(),this.#l.style);a.position="absolute",a.top=t-n.top+"px",a.left=l-n.left+"px",a.width=o-l+"px",a.height=r-t+"px"}}