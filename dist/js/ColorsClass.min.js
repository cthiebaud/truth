import e from"https://cdn.jsdelivr.net/npm/tinycolor2@1.6.0/+esm";export class Colors{static mapNumberToColor(t){const l=[{value:120,color:"#00852B"},{value:60,color:"#1E5AA8"},{value:30,color:"#B40000"},{value:0,color:"#FF0000"}];if(l[0].value<t)return l[0].color;if(t<=l[l.length-1].value)return l[l.length-1].color;let r=null;for(let e=0;e<l.length-1;e++)if(l[e].value>=t&&t>l[e+1].value){r=e;break}if(null===r)return"#000000";const o=(t-l[r].value)/(l[r+1].value-l[r].value);return e.mix(l[r].color,l[r+1].color,100*o).toHexString()}constructor(){let e=["#F4F4F4","#FAC80A","#B40000","#00852B","#1E5AA8","#8A928D","#ABD9FF","#91501C"];this.colors=e.concat(e),this.shuffleColors()}colorFalse="transparent";colorTrue="#545955";currentColorIndex=0;nextColor(){const e=this.colors[this.currentColorIndex++];return this.currentColorIndex%=this.colors.length,0===this.currentColorIndex&&this.shuffleColors(),e}shuffleColors(){this.colors=function(e){const t=e.length,l=e.slice();let r=null;for(let e=t-1;e>0;e--){const t=Array.from({length:e+1},((e,t)=>t));let o,n=t;null!==r&&(n=t.filter((e=>l[e]!==r))),o=0!==n.length?n[Math.floor(Math.random()*n.length)]:Math.floor(Math.random()*e),r=l[o],[l[e],l[o]]=[l[o],l[e]]}const o=Math.floor(Math.random()*t);return function(e,t){if(0==t)return e;const l=e.length,r=e.slice();for(let o=0;o<l;o++)r[(o+t)%l]=e[o];return r}(l,o)}(this.colors)}bg2color(t){return e(t).darken(3).toString("hex6")}}export class BlurOverlay{static overlaySingleton=null;static getOrCreateOverlaySingleton(){return null==BlurOverlay.overlaySingleton&&(BlurOverlay.overlaySingleton=document.createElement("div"),BlurOverlay.overlaySingleton.classList.add("overlay"),BlurOverlay.overlaySingleton.style.display="none",document.body.appendChild(BlurOverlay.overlaySingleton),window.addEventListener("resize",(()=>{(new BlurOverlay).updateOverlayPosition()}))),BlurOverlay.overlaySingleton}#e;#t;constructor(e){this.#t=e,this.#e=BlurOverlay.getOrCreateOverlaySingleton()}show(){this.#e.style.display="block"}move(e){this.elementCoveredByOverlay=e,this.updateOverlayPosition()}hide(){this.#e.style.display="none"}clear(){this.#e.style.display="none",this.elementCoveredByOverlay=null}updateOverlayPosition(){if(null==this.elementCoveredByOverlay)return;const e=this.elementCoveredByOverlay.querySelectorAll(this.#t);if(0===e.length)return;let t=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;e.forEach((e=>{const n=e.getBoundingClientRect();t=Math.min(t,n.top),l=Math.min(l,n.left),r=Math.max(r,n.bottom),o=Math.max(o,n.right)}));const n=this.#e.parentElement.getBoundingClientRect(),a=(this.elementCoveredByOverlay.getBoundingClientRect(),this.#e.style);a.position="absolute",a.top=t-n.top+"px",a.left=l-n.left+"px",a.width=o-l+"px",a.height=r-t+"px"}}